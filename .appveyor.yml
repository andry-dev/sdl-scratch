
environment:
  matrix:
  - config: Dev
  - config: RelWithDebInfo

shallow_clone: true

# Operating system (build VM template)
os: Visual Studio 2015

# scripts that are called at very beginning, before repo cloning
init:

# clone directory
    clone_folder: c:\projects\sdl-scratch

platform: x64

install:
  - cd c:\projects
  - git clone --depth 1 https://github.com/andry-dev/sdl-scratch.git

build_script:
  - cd c:\projects\sdl-scratch
  - mkdir build
  - cd build
  - echo %config%
  # This will produce lots of LNK4099 warnings which can be ignored.
  # Unfortunately they can't be disabled, see
  # http://stackoverflow.com/questions/661606/visual-c-how-to-disable-specific-linker-warnings
  - cmake -LA -G "Visual Studio 14 Win64"
  - dir
